<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>María Fernanda García</title>
        <link href="style.css" rel="stylesheet" />
    </head>
    <body>
        <header>
            <h1>María Fernanda García</h1>
            <h2>Bachiller General, mención Humanidades y Artes</h2>
        </header>
        <main>
            <div class="container">
                <nav class="nav">
                    <a href="index.html">Portafolio</a>
                    <a href="about.html">Sobre mí</a>
                </nav>
                <section class="single" id="aqui">
                    <h3>Lorem ipsum dolor sit amet</h3>
                    <h4>ASIGNATURA</h4>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus ac sem ac risus rhoncus tincidunt tempor in augue. Aenean interdum mauris nibh, ut congue nisl iaculis id. Proin leo est, finibus at aliquet non, tincidunt sed ante. Nulla id erat maximus, lacinia ex sit amet, mollis lectus. Praesent mattis elit nec accumsan pellentesque. Sed tempus, purus quis hendrerit eleifend, justo orci lacinia enim, in ultricies neque ipsum eu nunc. Pellentesque scelerisque est eu euismod malesuada. Etiam lorem est, lobortis a lacus id, malesuada gravida quam. Ut gravida velit ac sapien elementum faucibus. A continuación se indican los XXXXX:</p>
                    <img src="https://anaisvalentina.github.io/primera-nota/img/lahora.webp" loading="lazy">
                    <img src="https://anaisvalentina.github.io/primera-nota/img/lahora.webp" loading="lazy">
                    <img src="https://anaisvalentina.github.io/primera-nota/img/lahora.webp" loading="lazy">
                </section>
            </div>
        </main>
        <footer class="footer">
            <p>María Fernanda García H © 2025</p>
            <div class="social-links">
                <a href="#">GitHub</a>
                <a href="#">LinkedIn</a>
            </div>
        </footer>
        <script>
async function cargarTrabajo(raw, id) {
                try {
                    let consulta = await fetch(raw);
                    if (consulta.status === 429) {
                        await new Promise((resolve) => setTimeout(resolve, 2000));
                        consulta = await fetch(raw);
                    }
                    let trabajitos = await consulta.json();
                    console.log(trabajitos);

                    const lugar = document.querySelector("#aqui");
                    const trabajo = trabajitos.find((t) => t.id == id);

                    if (trabajo) {
                        lugar.innerHTML = `
                <h3>${trabajo.title}</h3>
                <h4>${trabajo.course}</h4>
                <p>${trabajo.description}</p>
                <img src="${trabajo.gallery}" alt="${trabajo.title}" loading="lazy">
            `;
                    } else {
                        lugar.innerHTML = "<h3>Trabajo no encontrado</h3><p>El trabajo solicitado no existe en el portafolio.</p>";
                    }
                    }

            document.addEventListener("DOMContentLoaded", () => {
                const params = new URLSearchParams(window.location.search);
                const id = params.get("id");
                const lugar = document.querySelector("#aqui");

                if (!id) {
                    lugar.innerHTML = "<div id='alerta'><p>Por favor, selecciona un trabajo del <a href='index.html'>portafolio</a>.</p></div>";
                    return;
                }

                cargarTrabajo("https://raw.githubusercontent.com/disenouchile/portafolio/refs/heads/main/fernanda_garcia/trabajitos.json", id);
            });
        </script>
    </body>
</html>
